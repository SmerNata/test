"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[638],{3638:function(e,n,s){s.r(n),s.d(n,{default:function(){return N}});var t=s(5671),o=s(3144),r=s(136),i=s(5716),a=s(2791),l=s(364),u=s(2938),c=s(8055),g=s(3504),p=s(885),f=s(184),d=function(e){for(var n=Math.ceil(e.totalUsersCount/e.pageSize),s=[],t=1;t<=n;t++)s.push(t);var o=Math.ceil(n/10),r=(0,a.useState)(1),i=(0,p.Z)(r,2),l=i[0],u=i[1],c=10*(l-1)+1,g=10*l;return(0,f.jsxs)("div",{className:"pagination",children:[l>1&&(0,f.jsx)("button",{className:"pagination__button",onClick:function(){u(l-1)},children:"Prev"}),s.filter((function(e){return e>=c&&e<=g})).map((function(n){return(0,f.jsx)("button",{className:e.currentPage==n?"pagination__button _active":"pagination__button",onClick:function(s){e.onPageChanged(n)},children:n})})),o>l&&(0,f.jsx)("button",{className:"pagination__button",onClick:function(){u(l+1)},children:"Next"})]})},h=function(e){return(0,f.jsxs)("div",{className:"users",children:[(0,f.jsx)(d,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged}),e.users.map((function(n){return(0,f.jsxs)("div",{className:"user-item",children:[(0,f.jsxs)("div",{className:"user-item__side",children:[(0,f.jsx)(g.OL,{to:"/profile/"+n.id,children:(0,f.jsx)("img",{className:"user-item__img",src:null!=n.photos.small?n.photos.small:c,alt:""})}),n.followed?(0,f.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===n.id})),onClick:function(){e.unfollow(n.id)},children:"Unfollow"}):(0,f.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===n.id})),onClick:function(){e.follow(n.id)},children:"Follow"})]}),(0,f.jsxs)("div",{className:"user-item__main",children:[(0,f.jsx)("div",{className:"user-item__location"}),(0,f.jsx)("div",{className:"user-item__name",children:n.name}),(0,f.jsx)("div",{className:"user-item__text",children:n.status})]})]},n.id)}))]})},m=s(3717),P=s(7781),w=function(e){return e.usersPage.users},C=function(e){return e.usersPage.pageSize},_=function(e){return e.usersPage.totalUsersCount},x=function(e){return e.usersPage.currentPage},j=function(e){return e.usersPage.isLoading},v=function(e){return e.usersPage.followingInProgress},b=function(e){(0,r.Z)(s,e);var n=(0,i.Z)(s);function s(){var e;(0,t.Z)(this,s);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).onPageChanged=function(n){e.props.getUsers(n,e.props.pageSize)},e}return(0,o.Z)(s,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return(0,f.jsxs)(f.Fragment,{children:[this.props.isLoading?(0,f.jsx)(m.Z,{}):null,(0,f.jsx)(h,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,users:this.props.users,followingInProgress:this.props.followingInProgress,onPageChanged:this.onPageChanged,currentPage:this.props.currentPage,unfollow:this.props.unfollow,follow:this.props.follow,toggleInFollowing:this.props.toggleInFollowing})]})}}]),s}(a.Component),N=(0,P.qC)((0,l.$j)((function(e){return{users:w(e),pageSize:C(e),totalUsersCount:_(e),currentPage:x(e),isLoading:j(e),followingInProgress:v(e)}}),{follow:u.AC,unfollow:u.Ow,toggleInFollowing:u.HZ,getUsers:u.Uk}))(b)},8055:function(e,n,s){e.exports=s.p+"static/media/user.72ac10a5dd620effbc65.png"}}]);
//# sourceMappingURL=638.56559abe.chunk.js.map