{"version":3,"file":"static/js/638.56559abe.chunk.js","mappings":"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","sources":["component/Users/Paginator.jsx","component/Users/Users.jsx","redux/users-selectors.js","component/Users/UsersContainer.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nlet Paginator = (props) => {\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    let portionSize = 10;\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n    return (\r\n        <div className='pagination'>\r\n            {portionNumber>1 && \r\n            <button className='pagination__button'\r\n            onClick={()=>{setPortionNumber(portionNumber - 1)}}>Prev</button>}\r\n            {pages\r\n            .filter(page => (page >= leftPortionPageNumber && page<=rightPortionPageNumber))\r\n            .map((page) => (\r\n                <button className={props.currentPage == page ? 'pagination__button _active':'pagination__button'}\r\n                onClick={(e)=>{props.onPageChanged(page)}}>\r\n                    {page}\r\n                </button>\r\n            ))}\r\n            {portionCount>portionNumber && \r\n            <button className='pagination__button'\r\n            onClick={()=>{setPortionNumber(portionNumber + 1)}}>Next</button>}\r\n        </div>\r\n    )\r\n}\r\nexport default Paginator;","import React from 'react';\r\nimport './Users.css';\r\nimport userPhoto from '../../assets/img/user.png';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Paginator from './Paginator';\r\nlet Users = (props) => {\r\n    return (\r\n        <div className='users'>\r\n            <Paginator totalUsersCount={props.totalUsersCount}\r\n            pageSize={props.pageSize}\r\n            currentPage={props.currentPage}\r\n            onPageChanged={props.onPageChanged}/>\r\n        {\r\n        props.users.map(item => (\r\n            <div className='user-item' key={item.id}>\r\n            <div className='user-item__side'>\r\n                <NavLink to={'/profile/'+item.id}>\r\n                    <img className='user-item__img' src={item.photos.small != null ? item.photos.small: userPhoto} alt=\"\" />\r\n                </NavLink>\r\n                {item.followed ? \r\n                <button disabled={props.followingInProgress.some(id => id === item.id)} onClick={()=>{\r\n                    props.unfollow(item.id);\r\n                }}>Unfollow</button>:\r\n                <button disabled={props.followingInProgress.some(id => id === item.id)} onClick={()=>{\r\n                    props.follow(item.id);\r\n                    }}>Follow</button>}\r\n            </div>\r\n            <div className='user-item__main'>\r\n                <div className='user-item__location'>\r\n                {/*item.location.country}<br />\r\n                {item.location.city*/}\r\n                </div>\r\n                <div className='user-item__name'>\r\n                {item.name}\r\n                </div>\r\n                <div className='user-item__text'>\r\n                {item.status}\r\n                </div>\r\n            </div>\r\n            </div>\r\n        ))\r\n        }\r\n    </div>\r\n    )\r\n}\r\nexport default Users;","//import { createSelector } from \"reselect\";\r\nexport const getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\n/*export const getUsersSuperSelector = createSelector(getUsers,(users)=> {\r\n    return users.filter(u => true);\r\n});*/\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsLoading = (state) => {\r\n    return state.usersPage.isLoading\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {followThunkCreator,unfollowThunkCreator,toggleInFollowing, getUsersThunkCreator} from '../../redux/users-reducer';\r\nimport Users from './Users';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport { getUsers,getPageSize,\r\n  getTotalUsersCount,getCurrentPage,\r\n  getIsLoading,getFollowingInProgress} from '../../redux/users-selectors';\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getUsers(this.props.currentPage,this.props.pageSize);\r\n  }\r\n  onPageChanged = (pageNumber) => {\r\n    this.props.getUsers(pageNumber,this.props.pageSize);\r\n  }\r\n  render() {\r\n      return (\r\n          <>\r\n            {this.props.isLoading? <Preloader />:null}\r\n            <Users totalUsersCount={this.props.totalUsersCount} \r\n            pageSize={this.props.pageSize}\r\n            users={this.props.users}\r\n            followingInProgress={this.props.followingInProgress}\r\n            onPageChanged={this.onPageChanged}\r\n            currentPage={this.props.currentPage}\r\n            unfollow={this.props.unfollow}\r\n            follow={this.props.follow}\r\n            toggleInFollowing={this.props.toggleInFollowing}/>\r\n          </>\r\n      )\r\n  }\r\n}\r\n/*let mapStateToProps = (state) => {\r\n  return {\r\n    users: state.usersPage.users,\r\n    pageSize: state.usersPage.pageSize,\r\n    totalUsersCount: state.usersPage.totalUsersCount,\r\n    currentPage: state.usersPage.currentPage,\r\n    isLoading: state.usersPage.isLoading,\r\n    followingInProgress: state.usersPage.followingInProgress,\r\n  }\r\n}*/\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isLoading: getIsLoading(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n  }\r\n}\r\nexport default compose(\r\n  connect(\r\n    mapStateToProps,\r\n    {follow: followThunkCreator, unfollow: unfollowThunkCreator, toggleInFollowing, getUsers: getUsersThunkCreator}\r\n  )\r\n)(UsersContainer);"],"names":["props","pagesCount","Math","ceil","totalUsersCount","pageSize","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","onClick","filter","page","map","currentPage","e","onPageChanged","users","item","to","id","src","photos","small","userPhoto","alt","followed","disabled","followingInProgress","some","unfollow","follow","name","status","getUsers","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsLoading","isLoading","getFollowingInProgress","UsersContainer","pageNumber","this","Preloader","toggleInFollowing","React","compose","connect","followThunkCreator","unfollowThunkCreator","getUsersThunkCreator"],"sourceRoot":""}